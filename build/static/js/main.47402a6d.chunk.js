(this.webpackJsonptodo_app=this.webpackJsonptodo_app||[]).push([[0],{1503:function(e,t){},1506:function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),c=o(18),a=o.n(c),s=o(5),l=(o(69),o(56)),i=o(9),d=o.n(i),u=o(15),j=o(2),b=o(55),f=o(20),p={All:"all",Active:"active",Completed:"completed"},h={status:p.All,colors:Array()};var O=o(57);function m(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(d.a.mark((function e(t){var o,n,r,c,a,s,l,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},n=o.body,r=Object(O.a)(o,["body"]),c={"Content-Type":"application/json"},a=Object(j.a)(Object(j.a)({method:n?"POST":"GET"},r),{},{headers:Object(j.a)(Object(j.a)({},c),r.headers)}),n&&(a.body=JSON.stringify(n)),e.prev=4,e.next=7,window.fetch(t,a);case 7:return l=e.sent,e.next=10,l.json();case 10:if(s=e.sent,!l.ok){e.next=13;break}return e.abrupt("return",s);case 13:throw new Error(l.statusText);case 16:return e.prev=16,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:s));case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}m.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(e,Object(j.a)(Object(j.a)({},t),{},{method:"GET"}))},m.post=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(e,Object(j.a)(Object(j.a)({},o),{},{body:t}))};var x=Array();Object(f.a)((function(e){return e.todos}),(function(e){return e.map((function(e){return e.id}))}));var _=Object(f.a)((function(e){return e.todos}),(function(e){return e.filters}),(function(e,t){var o=t.colors,n=t.status,r=n===p.All;if(r&&0===o.length)return e;var c=n===p.Completed;return e.filter((function(e){var t=r||e.completed===c,n=0===o.length||e.color&&o.includes(e.color);return t&&n}))})),y=Object(f.a)(_,(function(e){return e.map((function(e){return e.id}))})),g=(o(71),o(0)),N=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),o=t[0],r=t[1],c=Object(s.b)();return Object(g.jsx)("header",{className:"header",children:Object(g.jsx)("input",{type:"text",placeholder:"What needs to be done?",autoFocus:!0,className:"header__new-todo",value:o,onChange:function(e){r(e.target.value)},onKeyDown:function(e){var t=e.target.value.trim();"Enter"===e.key&&t&&(c(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(o){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={text:e},t.next=3,m.post("/fakeApi/todos",{todo:n});case 3:r=t.sent,o({type:"todos/todoAdded",payload:r.todo});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),r(""))}})})},C=["green","blue","orange","purple","red"],k=function(e){return e[0].toUpperCase()+e.slice(1)},w=function(e){var t=e.id,o=Object(s.c)((function(e){return function(e,t){return e.todos.find((function(e){return e.id===t}))}(e,t)})),n=o.text,r=o.completed,c=o.color,a=Object(s.b)(),l=C.map((function(e){return Object(g.jsx)("option",{value:e,children:k(e)},e)}));return Object(g.jsx)("li",{children:Object(g.jsxs)("div",{className:"todo",children:[Object(g.jsx)("div",{className:"todo__part",children:Object(g.jsxs)("label",{className:r?"todo__content todo__content_checked":"todo__content",children:[Object(g.jsx)("input",{className:"todo__checkbox",type:"checkbox",checked:r,onChange:function(e){a({type:"todos/todoToggled",payload:o.id});var t=e.target.parentElement;null!==t&&t.classList.toggle("todo__content_checked")}}),Object(g.jsx)("span",{children:n})]})}),Object(g.jsxs)("div",{className:"todo__part",children:[Object(g.jsxs)("select",{className:"todo__color color-picker",value:c,style:{color:c},onChange:function(e){var t=e.target.value;a({type:"todos/todoColorChanged",payload:{todoId:o.id,color:t}})},children:[Object(g.jsx)("option",{value:"",children:" "}),l]}),Object(g.jsx)("span",{className:"todo__deleteBtn",onClick:function(){a({type:"todos/todoDeleted",payload:o.id})},children:" "})]})]})})},T=(o(73),function(){var e=Object(s.c)(y).map((function(e){return Object(g.jsx)(w,{id:e},e)}));return Object(g.jsx)("ul",{className:"todo-list",children:e})}),A=(o(74),function(e){var t=1===e.count?"":"s";return Object(g.jsxs)("div",{className:"footer__col",children:[Object(g.jsx)("h5",{className:"footer__title",children:"Todos"}),Object(g.jsx)("strong",{className:"footer__todos-num",children:e.count})," item",t," left"]})}),E=function(e){var t=e.status,o=e.onChange,n=Object.keys(p).map((function(e){var n=p[e],r=n===t?"footer__btn footer__btn_selected":"footer__btn";return Object(g.jsx)("li",{children:Object(g.jsx)("button",{className:r,onClick:function(){return o(n)},children:e})},n)}));return Object(g.jsxs)("div",{className:"footer__col",children:[Object(g.jsx)("h5",{className:"footer__title",children:"Filter by Status"}),Object(g.jsx)("ul",{className:"footer__filters",children:n})]})},I=function(e){var t=e.colors,o=e.onChange,n=C.map((function(e){var n=t.includes(e);return Object(g.jsxs)("label",{className:n?"footer__color footer__color_checked":"footer__color",children:[Object(g.jsx)("input",{type:"checkbox",name:e,checked:n,onChange:function(){o(e,n?"removed":"added")}}),Object(g.jsx)("span",{style:{backgroundColor:e},children:" "}),k(e)]},e)}));return Object(g.jsxs)("div",{className:"footer__col",children:[Object(g.jsx)("h5",{className:"footer__title",children:"Filter by Color"}),Object(g.jsx)("form",{className:"footer__colors",children:n})]})},F=function(){var e=Object(s.c)((function(e){return e.todos.filter((function(e){return!e.completed})).length})),t=Object(s.c)((function(e){return e.filters})),o=t.status,n=t.colors,r=Object(s.b)();return Object(g.jsxs)("footer",{className:"footer",children:[Object(g.jsxs)("div",{className:"footer__col",children:[Object(g.jsx)("h5",{className:"footer__title",children:"Actions"}),Object(g.jsx)("button",{className:"footer__btn",onClick:function(){r({type:"todos/allCompleted"})},children:"Mark All Completed"}),Object(g.jsx)("button",{className:"footer__btn",onClick:function(){r({type:"todos/clearCompleted"})},children:"Clear Completed"})]}),Object(g.jsx)(A,{count:e}),Object(g.jsx)(E,{status:o,onChange:function(e){r({type:"filters/statusFilterChanged",payload:e})}}),Object(g.jsx)(I,{colors:n,onChange:function(e,t){r(function(e,t){return{type:"filters/colorFilterChanged",payload:{color:e,changeType:t}}}(e,t))}})]})};o(75);var M=function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"app",children:[Object(g.jsx)("div",{className:"dark-light",onClick:function(){document.body.classList.toggle("light-theme")},children:Object(g.jsx)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"})})}),Object(g.jsxs)("section",{className:"app__section",children:[Object(g.jsx)("h2",{className:"app__header",children:"Todos"}),Object(g.jsxs)("div",{className:"app__body",children:[Object(g.jsx)(N,{}),Object(g.jsx)(T,{}),Object(g.jsx)(F,{})]})]})]})})},z=o(11),G=(o(43),o(31)),S=o.n(G),L=z.c.extend({serializeIds:"always"}),B=S()();var D=function(e){var t,o;return e[(t=0,o=e.length-1,t=Math.ceil(t),o=Math.floor(o),Math.floor(B()*(o-t+1))+t)]},H=[{base:"Buy $THING",values:["milk","bread","cheese","toys"]},{base:"Clean $THING",values:["house","yard","bedroom","car"]},{base:"Read $THING",values:["newspaper","book","email"]}];new z.d({routes:function(){this.namespace="fakeApi",this.resource("todos"),this.resource("lists");var e=this;this.post("/todos",(function(t,o){var n=this.normalizedRequestAttrs();if("error"===n.text)throw new Error("Could not save the todo!");return e.create("todo",n)}))},models:{todo:z.b.extend({}),list:z.b.extend({todos:Object(z.e)()})},factories:{todo:z.a.extend({id:function(e){return Number(e)},text:function(){return function(){var e=D(H),t=D(e.values);return e.base.replace("$THING",t)}()},completed:function(){return!1},color:function(){return""}})},serializers:{todo:L.extend({serialize:function(e,t){var o=function(e){e.id=Number(e.id)},n=L.prototype.serialize.apply(this,arguments);return n.todo?o(n.todo):n.todos&&n.todos.forEach(o),n}}),list:L},seeds:function(e){e.createList("todo",5)}});var $=o(8),J=o(53),R=o(54),P=Object($.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todos/todoAdded":return[].concat(Object(b.a)(e),[t.payload]);case"todos/todoToggled":return e.map((function(e){return e.id!==t.payload?e:Object(j.a)(Object(j.a)({},e),{},{completed:!e.completed})}));case"todos/todoColorChanged":var o=t.payload,n=o.todoId,r=o.color;return e.map((function(e){return e.id!==n?e:Object(j.a)(Object(j.a)({},e),{},{color:r})}));case"todos/todoDeleted":return e.filter((function(e){return e.id!==t.payload}));case"todos/allCompleted":return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{completed:!0})}));case"todos/clearCompleted":return e.filter((function(e){return!e.completed}));case"todos/todosLoaded":return t.payload;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filters/statusFilterChanged":return Object(j.a)(Object(j.a)({},e),{},{status:t.payload});case"filters/colorFilterChanged":var o=t.payload,n=o.color,r=o.changeType,c=e.colors;switch(r){case"added":return c.includes(n)?e:Object(j.a)(Object(j.a)({},e),{},{colors:e.colors.concat(n)});case"removed":return Object(j.a)(Object(j.a)({},e),{},{colors:e.colors.filter((function(e){return e!==n}))});default:return e}default:return e}}}),W=Object(R.composeWithDevTools)(Object($.applyMiddleware)(J.a)),q=Object($.createStore)(P,W);q.dispatch(function(){var e=Object(u.a)(d.a.mark((function e(t){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/fakeApi/todos");case 2:o=e.sent,t({type:"todos/todosLoaded",payload:o.todos});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(s.a,{store:q,children:Object(g.jsx)(M,{})})}),document.getElementById("root"))},69:function(e,t,o){},71:function(e,t,o){},73:function(e,t,o){},74:function(e,t,o){},75:function(e,t,o){}},[[1506,1,2]]]);
//# sourceMappingURL=main.47402a6d.chunk.js.map